/*
Team ISick,YouSick -- Jason Lin and Isaac Jon
SoftDev2 pd7
K15 -- Scattered
2019-03-21
*/
//sq__ft,price
var data = `836,59222
1167,68212
796,68880
852,69307
797,81900
1122,89921
1104,90895
1177,91002
941,94905
1146,98937
909,100309
1289,106250s
871,106852
1020,107502
1022,108750
1134,110700
844,113263
795,116250
588,120000
1356,121630
1118,122000
1329,122682
1240,123000
1601,124100
901,125000
1088,126640
963,127281
1119,129000
1380,131200
1248,132000
1039,133000
1152,134555
1380,136500
1116,138750
1039,141000
1418,146250
1082,147308
1472,148750
1146,149593
760,150000
1304,152000
1207,154000
1056,156896
1043,161250
1587,161500
1120,164000
1580,165000
1955,166357
1656,166357
1477,168000
1188,170000
1590,173000
1463,174250
1714,174313
1185,178480
1406,178760
1943,179580
1172,181000
1152,181872
1851,182587
1215,182716
1130,182750
1603,183200
1479,188741
1420,189000
1280,192067
1586,194000
1362,194818
2162,195000
1266,198000
1715,199500
1820,200000
936,200000
0,206000
1511,208000
1590,212864
1596,221000
1341,221000
2136,223058
1616,227887
1478,231477
1287,234697
1277,235000
1448,236000
2235,236685
2093,237800
1193,240122
2163,242638
1269,244000
0,244500
958,244960
2508,245918
1305,250000
1591,250000
1326,250134
1843,254200
1921,254200
2790,258000
1541,260000
1018,260014
0,263500
1672,265000
1380,265000
975,271742
2372,273750
1446,275086
1284,280908
3009,280987
3612,282400
2056,285000
1993,287417
1857,291000
1126,292024
2213,297000
2494,297000
1843,298000
1520,299000
2800,304037
2309,311000
2367,315537
3516,320000
0,320000
1914,328360
1690,334150
2725,335750
2354,335750
0,339500
2185,344250
1801,346210
1961,347029
3134,347650
1915,351300
0,352000
0,370000
2734,370500
2110,372000
3164,375000
3599,381300
2054,381942
1830,387731
1627,391000
3440,394470
2846,395000
2359,400186
2052,415000
3433,425000
3615,430000
0,445000
2687,460000
2724,461000
3440,489332
3508,510000
2462,539000
0,585000
0,600000
0,606238
2325,660000
0,830000
795,69000
1099,70000
840,71000
800,78000
746,78400
1067,80000
1316,89000
1337,90000
868,90000
924,92000
610,93675
0,97750
1220,98000
722,98000
1643,99000
722,100000
1080,106716
1039,111000
1051,111000
967,114800
1098,120108
1050,123225
1110,123750
888,125000
1120,125000
1080,126000
957,129000
952,134000
1211,135000
1264,135500
1080,140000
1266,140000
994,142500
1202,143500
0,145000
722,145000
1448,145000
1188,145000
1183,146000
1320,148500
1117,149000
1364,150000
1310,150000
1006,152000
1104,156000
810,156000
1123,156000
904,157788
1156,161653
1321,161829
1392,165000
1439,168000
1159,169000
1671,175000
1740,176250
1265,179000
1007,180000
1716,180400
1685,182000
1829,184500
1555,185000
1120,189000
1137,194000
1174,195000
1393,200000
0,201000
0,202500
1289,205000
1799,205000
0,205000
1953,205000
723,207000
0,210000
948,211500
1578,215000
1317,215000
0,215500
1360,222381
0,225000
1522,225000
1751,225000
1465,225000
1605,228000
1475,229665
1216,230000
1315,230000
1567,230000
1776,234000
2187,235000
1291,236250
0,240000
0,242000
1503,245000
2491,245000
1269,245000
0,250000
1176,250000
1456,250000
1498,250000
1574,255000
2085,256054
2170,257729
1595,260000
1567,261000
0,261800
1253,264469
1768,265000
0,270000
2030,270000
1531,270000
0,270000
1653,275000
2056,275000
2494,280000
1450,286013
2169,292000
1440,292000
1527,293993
1401,294000
1411,296769
0,297500
0,300000
1284,300000
2307,300000
1329,300000
1910,300500
1981,305000
0,306500
0,312500
0,315000
2205,319789
1449,330000
1258,330000
2575,331000
539,334000
2208,336000
1108,339000
1595,339000
2159,345000
2295,350000
1838,356000
1900,361745
1718,361948
3389,370000
0,380000
3260,385000
2016,399000
2607,402000
2724,406026
3746,420000
0,425000
3192,425000
0,433500
0,436746
0,438700
1247,445000
2581,450000
2068,460000
0,460000
3992,460000
3397,465000
3881,471750
0,480000
1598,484000
1929,485000
3070,495000
0,500500
0,504000
0,541000
0,560000
3984,572500
2222,582000
3838,613401
0,614000
2846,680000
2484,699000
1624,839000
840,40000
484,48000
970,61500
623,62050
932,65000
796,65000
834,68000
834,68000
924,77000
795,82732
1250,84000
984,84675
1013,85000
1012,90000
795,90000
918,91000
1082,95000
964,97500
1404,100000
625,100000
888,101000
1120,102750
1331,112500
1014,113000
1448,114000
966,114000
779,114750
836,115000
1100,115000
1174,116100
1207,119250
1995,120000
804,120000
958,120000
1366,120108
901,121500
696,121725
1080,122000
1104,123000
972,125000
1390,125573
1354,126714
795,126960
780,127000
1587,127500
1209,130000
1139,133105
1690,136500
1245,139500
1416,140000
1300,140800
1120,145000
1590,147000
1407,149600
1516,150000
0,150000
1646,150000
1676,155000
1370,155435
1370,155500
1351,158000
1152,158000
1452,160000
990,160000
1162,164000
1182,164000
1112,165000
1100,167000
1280,167293
1280,167293
1039,168000
1159,170000
1917,170000
1520,170000
1204,174000
1120,178000
1436,180000
1451,180000
1638,180000
1000,182000
1152,188325
1154,191500
1353,192000
1329,192700
1356,195000
1505,197654
1009,198000
1144,200345
930,203000
1766,207000
1940,208000
1776,210000
1258,212000
1872,213675
1112,213697
1856,215000
1939,215000
998,215100
1758,217500
2142,218000
950,220000
1739,221000
1516,222900
988,223139
1555,225500
1212,228327
1871,230000
1302,230000
756,230522
2026,231200
1375,232000
1250,232500
1058,233641
1187,234000
1324,234500
1936,235000
2382,236000
1427,236073
1678,238000
1798,238861
2652,239700
1816,240000
3076,240000
1844,241000
1306,245000
2447,246000
1176,247234
1182,247480
1160,249862
1424,251000
1574,252155
1830,254172
1724,258000
1255,260000
0,261000
2175,261000
1904,261000
1808,262500
2711,266000
1713,266000
1457,270000
2724,274425
0,274500
1468,275336
2550,277980
1928,280000
1922,284686
1343,284893
1510,285000
960,285000
1559,285000
1624,289000
2992,295000
2109,296000
1524,296056
1248,297359
1876,299940
0,304000
1851,305000
0,307000
2218,311328
1394,313138
1410,316630
3468,320000
2346,320000
2347,325000
1659,328578
2442,331000
0,331500
2155,340000
0,344755
1810,345746
2789,351000
1606,353767
0,355000
2166,356035
0,360000
1871,360552
1800,362305
1683,365000
0,367554
0,368500
1596,370000
0,371086
1179,378000
0,383000
1639,388000
3281,395100
1697,400000
0,400000
2085,408431
0,413000
1744,416767
0,420000
1939,423000
0,423000
1788,427500
1691,430922
2002,445000
4303,450000
4246,452000
2274,470000
0,471000
3056,475000
2503,484500
0,487500
0,488750
1905,500000
1320,506688
0,512000
0,520000
3037,528000
3741,579093
2660,636000
3357,668365
2896,676200
2025,677048
3788,691659
3670,760000
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
0,4897
1166,30000
0,30000
838,55422
904,63000
1032,65000
904,65000
1080,65000
990,66500
900,71000
861,75000
906,77000
1011,85000
1089,95625
832,96140
800,104250
1292,105000
810,108000
1064,109000
911,115000
846,115000
1320,115500
1410,115620
1115,116000
1169,122000
1164,122500
1341,123000
1219,124000
1127,124000
1272,124413
1253,125000
1120,130000
1118,131750
1890,137721
1260,137760
1400,138000
1264,140000
1060,145000
1132,145000
1466,150000
1092,150000
1628,151000
960,155000
1075,155800
1428,156142
1358,158000
2475,159900
1410,160000
1711,161500
1483,161600
1140,162000
1549,165000
1410,165000
1240,167293
1712,168000
1580,168000
1669,168750
1029,168750
1103,170000
2161,170250
1650,173000
1320,175000
1200,176095
1170,176250
1199,178000
1695,179000
1157,180000
1410,180000
1174,180000
1593,181000
1093,182000
1770,182587
1436,185074
1124,185833
1139,186785
1638,187000
1328,188335
1273,190000
1082,190000
1578,190000
796,190000
1386,191250
1452,193000
1513,193500
0,194818
1578,195000
1736,195000
0,195000
1473,195000
1150,198000
1127,199900
1144,200000
972,201000
2306,204918
1479,205000
1040,205000
1430,205878
1800,207000
1953,207744
1120,209000
1232,210000
984,210944
0,212500
2329,213750
1351,215000
0,215000
1376,215000
1300,216033
1566,220000
1115,220000
1032,220000
1419,220000
1261,220000
1637,220702
1776,221250
1338,222000
0,222500
2254,222750
1441,225000
1991,225000
2126,228750
1094,229000
1462,230095
2258,232500
1074,233000
2111,233500
1686,239000
1915,240000
2367,240000
1962,240971
1406,242000
1789,243450
1876,243500
1235,246544
2504,246750
0,247000
1676,247000
1367,249000
1899,249000
1636,250000
1828,250000
0,250000
1438,252000
1451,255000
1520,255000
1506,255000
2605,257200
1196,260000
1621,260000
1811,263500
1540,266510
0,267750
0,270000
0,271000
0,272700
0,275000
1543,275000
2494,276000
1650,276500
2214,278000
2280,279000
1443,280000
1582,280000
1857,285000
1735,288000
2096,289000
1720,290000
2160,290000
1382,293996
0,294000
1721,294173
1328,295000
0,298000
1982,298000
1144,299000
1623,300000
1457,300000
2555,300000
1577,300567
2592,303000
1401,305000
0,306000
1502,310000
1327,310000
1800,310000
2169,311518
2457,312000
0,313000
2004,315000
2212,315000
3134,315000
1360,315000
0,315000
1276,320000
2962,322000
1888,325000
0,325500
0,326951
1548,328370
0,330000
2109,330000
2484,331200
2258,332000
2212,334000
1616,335000
2372,341000
2606,346375
0,347225
2877,349000
2960,350000
0,350000
2172,350000
2100,350000
1795,351000
0,356200
2295,360000
2577,367463
0,375000
1727,380000
1485,380578
1655,386222
0,389000
0,390000
2049,395500
0,396000
2875,397000
0,400000
2199,400000
0,412500
1304,413500
2334,415000
2278,420454
1493,425000
0,425000
0,433500
0,438000
2787,441000
2824,445000
3261,446000
2053,450000
2379,455000
0,460000
0,475000
0,490000
0,493000
0,508000
0,511000
3173,525000
0,533000
1348,545000
0,560000
1252,575000
3229,575000
3863,598695
0,600000
0,600000
2356,600000
0,600000
3579,610000
0,622500
0,680000
0,879000
4400,884790
0,1551
5822,2000
1512,56950
611,60000
876,61000
933,62000
864,68566
1011,70000
1158,80000
1092,85500
956,92000
1139,93600
1058,95000
1040,97750
1354,104000
1051,105000
682,107666
1161,109000
1004,110000
1229,110000
1249,112500
1161,114800
1010,116000
0,119000
1462,121500
1269,122000
1188,123675
1570,126854
1093,127059
962,128687
1089,129500
1127,130000
1309,131750
970,132000
1144,134000
1000,134000
0,138000
1206,142000
1285,143012
1543,145846
884,147000
1019,148750
1392,150000
924,150454
1217,151087
1670,157296
1302,157500
1488,160000
1373,160000
1381,161250
1265,164000
881,165000
0,165000
1608,165750
1344,166000
1202,169000
1104,170000
0,170000
1859,170000
1232,170000
1638,170725
1177,171750
1582,172000
904,173056
1340,174000
1204,174250
1477,176850
1497,179500
960,185000
0,188000
1428,188700
1039,189000
1529,189000
1892,189836
1887,190000
1294,191250
1638,191675
1677,195500
1073,198000
1231,200000
1175,200000
1416,200000
0,200100
1358,201528
1609,204750
1968,205000
1089,205000
1296,205900
1189,207000
795,207973
1371,208250
1310,208318
1262,209347
1740,211500
1517,212000
1450,213000
1416,216000
888,216021
1882,219000
1302,219794
1418,220000
0,220000
1319,220000
1770,220000
1627,223000
0,224000
1040,224000
960,224252
0,224500
1456,225000
1450,228000
1358,229027
1329,229500
1715,230000
1262,230000
2280,232425
1477,234000
1216,235000
1685,235301
1362,235738
0,0`

var width = 800, height = 600;

var chart = d3.select(".chart")
    .attr("width", width+300)
    .attr("height",height)

chart.append("text")
    .attr("x",width/2-50)
    .attr("y",0)
    .attr("dy","2em")
    .text("Sacramento Real Estate Transactions");

chart.append("text")
    .attr("x",width)
    .attr("y",0)
    .attr("dy","2em")
    .text("By Team ISick,YouSick-- Jason Lin, Isaac Jon");

chart.append("text")
    .attr("x",width/2)
    .attr("y",height-40)
    .attr("dy","2em")
    .text("Square Foot of Property");

chart.append("text")
    .attr("transform","rotate(-90)")
    .attr("x",-300)
    .attr("y",20)
    .attr("dy","1em")
    .text("Price in Dollars");

list_data = data.split("\n").filter((x) => {
    return x.split(",")[0] !== "0";
});

range = list_data.map((y) => {
    return parseInt(y.split(",")[1]);
});

domain = list_data.map((x) => {
    return parseInt(x.split(",")[0]);
});
domain.push(6000);
range.push(900000);

list_data = list_data.map((x) => {
    return x.split(",");
});

var x = d3.scaleLinear()
    .domain([0, d3.max(domain)])
    .range([0, width-50]);

var y = d3.scaleLinear()
    .domain([0, d3.max(range)])
    .range([0, height-100]);

var chart_y = d3.scaleLinear()
    .domain([0, d3.max(range)])
    .range([height-100, 0]);

var xAxis = d3.axisBottom(x);

chart.append("g")
    .attr("class","x axis")
    .attr("transform","translate(100,"+(height-50)+")")
    .call(xAxis)

var yAxis = d3.axisLeft(chart_y);

chart.append("g")
    .attr("class","y axis")
    .attr("transform","translate(100,50)")
    .call(yAxis)

var bar = chart.selectAll("g")
    .data(list_data)
    .enter().append("g")
    .attr("transform", function(d) {
        return "translate(" + (x(parseInt(d[0]))+100) + "," + (height-50-y(parseInt(d[1]))) +")";
    });

bar.append("rect")
    .attr("width", 4)
    .attr("height", 4);
